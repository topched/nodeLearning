<!doctype html>
<html>
<head>
	<title>Node Authentication</title>

	<% include headerLinks.ejs %>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>

<nav class="navbar navbar-inverse">

	<div class="navbar-header" id="navheader">
		<h4>Fake Town Minor Hockey</h4>
	</div>

	<ul class="nav navbar-nav navbar-right">
		<li><a href="/logout" id="logout">Logout</a></li>
	</ul>

</nav>

<div class="container">

	<div class="page-header text-center">
		<h1>Staff Page</h1>
		<h3><span class="fa fa-user"></span><%= user.username %></h3>
	</div>

</div>


	<div class="col-sm-3">
		<nav class="nav-sidebar">
			<ul class="nav nav-pills nav-stacked text-center">
				<li class="active" id="navAllPlayers" onclick="showAllPlayers()"><a>View All Players</a></li>
				<li id="navAddPlayer" onclick="showAddPlayer()"><a>Add New Player</a></li>
			</ul>
		</nav>
	</div>

	<!-- div for the form to add players -->		
	<div class="col-sm-9 hidden" id="showAddPlayerForm">
		<form class="form-horizontal" id="addPlayer" onsubmit="return validatePlayerAddForm()" action="/staff/createplayer" method="post">

			<div class="form-group">
				<label class="control-label col-sm-3" for="username">Username</label>
				<div class="col-sm-8">
					<input class="form-control inputForm" type="text" name="username">
				</div>	
			</div>

			<div class="form-group">
				<label class="control-label col-sm-3" for="password">Password</label>
				<div class="col-sm-8">
					<input class="form-control inputForm" type="text" name="password">
				</div>
			</div>

			<hr>

			<div class="form-group">
				<label class="control-label col-sm-3" for="playerFirstName">First Name</label>
				<div class="col-sm-8">	
					<input class="form-control inputForm" type="text" name="playerFirstName">
				</div>
			</div>

			<div class="form-group">
				<label class="control-label col-sm-3" for="playerLastName">Last Name</label>
				<div class="col-sm-8">
					<input class="form-control inputForm" type="text" name="playerLastName">
				</div>
			</div>

			<div class="form-group">
				<label class="control-label col-sm-3" for="playerBirthDate">Date Of Birth</label>
				<div class="col-sm-4">
					<input class="form-control inputForm" type="date" name="playerBirthDate">
				</div>
			</div>

			<div class="form-actions">
				<button type="submit" class="btn btn-success btn-large">Create Player</button>
			</div>

		</form>

	</div>

	<!-- div to show all the players -->
	<div class="col-sm-9" id="showViewAllPlayers">

		<!-- TODO make dissapear after a small time period -->
		<% if (message.length > 0) { %>
			<div class="alert alert-danger"><%= message %></div>
		<% } %>
	
		<div class="playerList" id="playerList">
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Username</th>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Birth Date</th>
					</tr>
				</thead>
				<tbody>

					<% for(var i=0; i<players.length; i++) {%>
						<tr> 
							<td><%= players[i].username %></td>
							<td><%= players[i].firstname %></td>
							<td><%= players[i].lastname %></td>
							<td><%= formatDate(players[i].birthdate) %></td>
						</tr>
					<%}%>


				</tbody>
			</table>
		</div>
	</div>

	




</body>
<script src="/javascripts/global.js"></script>
</html>